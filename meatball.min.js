!function(){var e=[].slice.call(document.getElementsByTagName("script")).filter(function(e){return e.src.indexOf("meatball.js")>-1})[0];e.src.substring(0,e.src.indexOf("meatball.js"));function t(){var e=document.createElement("script");e.type="text/javascript",e.src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",document.body.appendChild(e),e.onload=function(){var e=[].slice.call(document.getElementsByTagName("table"));!function(e){if(!e)return console.error("Undefined"),!0;if(e.length&&0===e.length)return console.error("Nothing in the array"),!0;return!1}(e)?(e=e.filter(function(e){return"ms-listviewtable"===e.getAttribute("class")})).forEach(function(e,t){var r=e.getAttribute("id").substring(1,37),l=ctx.HttpRoot,i=(e.summary,l+"/_api/web/lists('"+r+"')/fields");$.ajax({url:i,type:"GET",headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json;odata=verbose",credentials:!0,"X-RequestDigest":$("#__REQUESTDIGEST").val()},success:function(t){if(t&&t.d){var r=t.d.results.reduce(function(e,t,r,l){var i=!0;if(n(t.Title,"status")&&(n(t.Title,"value")&&(e.value.push(t.Choices.results),i=!1),i&&t.Formula)){var a=function(e){var t=/([()])/g,n=e.split("IF")[1].split("=")[0].split(",");switch(n.length){case 1:return n[0].replace(t,"");case 2:return n[1].replace(t,"");default:throw new Error("Formula incorrect size")}}(t.Formula);a.indexOf("[")>-1&&(a=a.substring(1,a.length-1)),e.column.push(a)}return e},{column:[],value:[]});r.value.forEach(function(t,l){r&&r.value&&r.value[l]&&(r.value[l].length<1||function(e,t,r){if(!e||0===e.childNodes.length)return;var l=[].slice.call(e.getElementsByTagName("tr")),i=[].slice.call(e.getElementsByTagName("th")),a="";l.map(function(l,o){a="";var s=[].slice.call(l.getElementsByTagName("td"));s.length>0&&s.map(function(o,s){var c=!1;i[s]&&[].slice.call(i[s].children).forEach(function(e,t){[].slice.call(e.children).forEach(function(e,t){e.innerText&&n(e.innerText,"status")&&(c=!n(e.innerText,"value")&&!n(e.innerText,"type"),n(r,e.innerText)?r.split(" ").length!==e.innerText.split(" ").length&&r.split(" ").length-1===e.innerText.split(" ").length&&(a=o.innerText):c=!1),n(e.innerText,"value")&&(a=o.innerText)})}),c&&e.getAttribute("id")&&l.getAttribute("iid")&&([].slice.call(o.children).forEach(function(e,t){[].slice.call(e.children).forEach(function(e,t){a?a.length<1&&(a=e.getAttribute("key")):a=e.getAttribute("key")})}),a&&function(e,t,r,l,i,a,o){var s=document.createElement("div");s.style.backgroundColor="\t#676767",s.style.color="#f2f3f4",s.style.padding=".5rem",s.style.border="1px solid",s.style.borderRadius=".25rem",s.style.fontWeight="bold",s.style.zIndex="1";var c=document.createElement("div");c.style.padding=".25rem",c.style.borderRadius=".25rem",c.style.textAlign="center",c.style.cursor="pointer",c.style.marginBottom=".25rem",c.style.backgroundColor="#3D71EB",c.innerText=r,c.style.textShadow="1px 1px 1px black";var d=document.createElement("div");d.style.display="none",d.style.padding=".25rem",d.style.borderRadius=".25rem",t.forEach(function(e,t){var s=document.createElement("div");s.style.padding=".25rem",s.style.marginBottom=".25rem",s.style.textAlign="left",s.style.fontWeight="bold",s.style.borderRadius=".25rem";var c=document.createElement("div");c.innerText=e,c.style.marginLeft=".25rem",c.style.display="inline";var u=document.createElement("input");u.type="radio",u.style.margin="0px",u.style.display="inline",c.style.textShadow="1px 1px 1px black",u.style.color="#f5f5f5",c.style.color="#f5f5f5",s.style.backgroundColor="#3D71EB",n(e,r)?u.checked="checked":(u.style.cursor="pointer",s.style.cursor="pointer",s.addEventListener("click",function(){!function(e,t,n,r,l){var i=l.trim().replace(/\s/g,"_x0020_"),a=_spPageContextInfo.webServerRelativeUrl,o=(ctx.ListTitle,{__metadata:{type:"SP.ListItem"}});o[i]=e;var s=a+"/_api/web/lists('"+r+"')/items("+t+")?$select="+i;$.ajax({url:s,type:"POST",data:JSON.stringify(o),headers:{Accept:"application/json; odata=verbose","Content-Type":"application/json;odata=verbose",credentials:!0,"If-Match":"*","X-HTTP-Method":"MERGE","X-RequestDigest":$("#__REQUESTDIGEST").val()},success:function(e){return alert("Updated Target Successfully"),location.reload(),!1},error:function(e){alert("Error: Update Request Failed. Please Contact the 1MEF IMO",console.log(JSON.stringify(e)))}})}(e,l,i.innerText,a,o)})),s.appendChild(u),s.appendChild(c),d.appendChild(s)}),s.appendChild(c),s.appendChild(d),c.addEventListener("click",function(){var e=d.style.display,t=!1;t="block"===e,d.style.display=t?"none":"block"}),e.addEventListener("mouseenter",function(){document.body.appendChild(s),s.style.position="fixed",s.style.left=e.getBoundingClientRect().right+"px",s.style.top=e.getBoundingClientRect().top+"px"}),e.addEventListener("mouseleave",function(e){s.contains(e.relatedTarget)||s&&s.parentNode&&s.parentNode.removeChild(s)}),s.addEventListener("mouseleave",function(){d.style.display="none",s&&s.parentNode&&s.parentNode.removeChild(s)})}(o,t,a,l.getAttribute("iid").split(",")[1],i[s],e.getAttribute("id").substring(1,37),r))})})}(e,t,r.column[l]))})}return!1},error:function(e){console.log("Error: Get list choices request Failed.")}})}):console.log("No Tables Found")}}function n(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>-1}window.addEventListener("load",function(){t()}),window.addEventListener("hashchange",function(){t()})}();
